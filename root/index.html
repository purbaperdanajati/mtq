<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrasi MTQ ke-55 Kabupaten Indramayu 2025</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingMessage">Memproses...</p>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üìö Musabaqah Tilawatil Qur'an (MTQ) ke-55</h1>
            <p>Tingkat Kabupaten Indramayu - Tahun 2025</p>
            <p style="font-size: 0.9em; margin-top: 10px; color: #1e5c96;">4-6 November 2025 | Kecamatan Sindang</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-btn active" onclick="showTab('informasi')">üìã Informasi</button>
            <button class="nav-btn" onclick="showTab('registrasi')">‚úèÔ∏è Registrasi</button>
        </div>

        <div id="informasi" class="content-section active">
            <h2 class="section-title">‚ÑπÔ∏è Informasi Penting Registrasi</h2>
            
            <div class="info-box">
                <h3>üìÖ Jadwal Penting</h3>
                <p><strong>Pendaftaran Online:</strong> 20-23 Oktober 2025</p>
                <p><strong>Masa Sanggah:</strong> 24-25 Oktober 2025</p>
                <p><strong>Pelaksanaan MTQ:</strong> 4-6 November 2025</p>
            </div>

            <div class="info-box">
                <h3>üìã Dokumen yang Diperlukan (untuk SETIAP peserta/anggota)</h3>
                <p>a. Surat Mandat - Ditandatangani oleh Ketua LPTQ Kecamatan</p>
                <p>b. KTP/KK/KIA - Diterbitkan maksimal 6 bulan sebelum 1 Nov 2025</p>
                <p>c. Sertifikat Kejuaraan - Dari MTQ Tingkat Kecamatan</p>
                <p>d. Foto Buku Tabungan - Menunjukkan nomor rekening</p>
                <p>e. Pas Photo Terbaru - Latar belakang biru</p>
            </div>

            <div class="info-box">
                <h3>üéØ Batas Usia Peserta</h3>
                <p>Batas usia maksimal dihitung per <strong>1 November 2025</strong></p>
            </div>
        </div>

        <div id="registrasi" class="content-section">
            <h2 class="section-title">‚úèÔ∏è Form Registrasi Peserta</h2>

            <div class="warning-message">
                ‚ö†Ô∏è Pastikan semua data sudah benar sebelum mengirim. Peserta tidak boleh terdaftar ganda.
            </div>

            <div class="progress-container" id="progressContainer">
                <p style="margin-bottom: 10px; font-weight: 600; color: #1e5c96;">Sedang memproses registrasi...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill">0%</div>
                </div>
            </div>

            <form id="registrationForm" name="registrationForm">
                <!-- BAGIAN 1: CABANG & KECAMATAN -->
                <h3 style="color: #1e5c96; margin-bottom: 20px;">üèÜ Pilih Cabang & Kecamatan</h3>

                <!-- BAGIAN DROPDOWN CABANG - GANTI BAGIAN INI DI index.html ANDA -->

                <div class="form-row">
                    <div class="form-group">
                        <label for="cabang">Cabang Lomba *</label>
                        <select id="cabang" name="cabang" required onchange="handleCabangChange()">
                            <option value="">-- Pilih Cabang Lomba --</option>
                            
                            <!-- TARTIL AL QUR'AN -->
                            <optgroup label="Tartil Al Qur'an (Max: 12 tahun 11 bulan 29 hari)">
                                <option value="Tartil Al Qur'an Putra|12-11-29|personal|male">Tartil Al Qur'an Putra</option>
                                <option value="Tartil Al Qur'an Putri|12-11-29|personal|female">Tartil Al Qur'an Putri</option>
                            </optgroup>
                            
                            <!-- TILAWAH ANAK-ANAK -->
                            <optgroup label="Tilawah Anak-anak (Max: 14 tahun 11 bulan 29 hari)">
                                <option value="Tilawah Anak-anak Putra|14-11-29|personal|male">Tilawah Anak-anak Putra</option>
                                <option value="Tilawah Anak-anak Putri|14-11-29|personal|female">Tilawah Anak-anak Putri</option>
                            </optgroup>
                            
                            <!-- TILAWAH REMAJA -->
                            <optgroup label="Tilawah Remaja (Max: 24 tahun 11 bulan 29 hari)">
                                <option value="Tilawah Remaja Putra|24-11-29|personal|male">Tilawah Remaja Putra</option>
                                <option value="Tilawah Remaja Putri|24-11-29|personal|female">Tilawah Remaja Putri</option>
                            </optgroup>
                            
                            <!-- TILAWAH DEWASA -->
                            <optgroup label="Tilawah Dewasa (Max: 40 tahun 11 bulan 29 hari)">
                                <option value="Tilawah Dewasa Putra|40-11-29|personal|male">Tilawah Dewasa Putra</option>
                                <option value="Tilawah Dewasa Putri|40-11-29|personal|female">Tilawah Dewasa Putri</option>
                            </optgroup>
                            
                            <!-- QIRA'AT MUJAWWAD -->
                            <optgroup label="Qira'at Mujawwad (Max: 40 tahun 11 bulan 29 hari)">
                                <option value="Qira'at Mujawwad Putra|40-11-29|personal|male">Qira'at Mujawwad Putra</option>
                                <option value="Qira'at Mujawwad Putri|40-11-29|personal|female">Qira'at Mujawwad Putri</option>
                            </optgroup>
                            
                            <!-- HAFALAN 1 JUZ -->
                            <optgroup label="Hafalan 1 Juz (Max: 15 tahun 11 bulan 29 hari)">
                                <option value="Hafalan 1 Juz Putra|15-11-29|personal|male">Hafalan 1 Juz Putra</option>
                                <option value="Hafalan 1 Juz Putri|15-11-29|personal|female">Hafalan 1 Juz Putri</option>
                            </optgroup>
                            
                            <!-- HAFALAN 5 JUZ -->
                            <optgroup label="Hafalan 5 Juz (Max: 20 tahun 11 bulan 29 hari)">
                                <option value="Hafalan 5 Juz Putra|20-11-29|personal|male">Hafalan 5 Juz Putra</option>
                                <option value="Hafalan 5 Juz Putri|20-11-29|personal|female">Hafalan 5 Juz Putri</option>
                            </optgroup>
                            
                            <!-- HAFALAN 10 JUZ -->
                            <optgroup label="Hafalan 10 Juz (Max: 20 tahun 11 bulan 29 hari)">
                                <option value="Hafalan 10 Juz Putra|20-11-29|personal|male">Hafalan 10 Juz Putra</option>
                                <option value="Hafalan 10 Juz Putri|20-11-29|personal|female">Hafalan 10 Juz Putri</option>
                            </optgroup>
                            
                            <!-- HAFALAN 20 JUZ -->
                            <optgroup label="Hafalan 20 Juz (Max: 22 tahun 11 bulan 29 hari)">
                                <option value="Hafalan 20 Juz Putra|22-11-29|personal|male">Hafalan 20 Juz Putra</option>
                                <option value="Hafalan 20 Juz Putri|22-11-29|personal|female">Hafalan 20 Juz Putri</option>
                            </optgroup>
                            
                            <!-- HAFALAN 30 JUZ -->
                            <optgroup label="Hafalan 30 Juz (Max: 22 tahun 11 bulan 29 hari)">
                                <option value="Hafalan 30 Juz Putra|22-11-29|personal|male">Hafalan 30 Juz Putra</option>
                                <option value="Hafalan 30 Juz Putri|22-11-29|personal|female">Hafalan 30 Juz Putri</option>
                            </optgroup>
                            
                            <!-- TAFSIR ARAB -->
                            <optgroup label="Tafsir Arab (Max: 22 tahun 11 bulan 29 hari)">
                                <option value="Tafsir Arab Putra|22-11-29|personal|male">Tafsir Arab Putra</option>
                                <option value="Tafsir Arab Putri|22-11-29|personal|female">Tafsir Arab Putri</option>
                            </optgroup>
                            
                            <!-- TAFSIR INDONESIA -->
                            <optgroup label="Tafsir Indonesia (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Tafsir Indonesia Putra|34-11-29|personal|male">Tafsir Indonesia Putra</option>
                                <option value="Tafsir Indonesia Putri|34-11-29|personal|female">Tafsir Indonesia Putri</option>
                            </optgroup>
                            
                            <!-- TAFSIR INGGRIS -->
                            <optgroup label="Tafsir Inggris (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Tafsir Inggris Putra|34-11-29|personal|male">Tafsir Inggris Putra</option>
                                <option value="Tafsir Inggris Putri|34-11-29|personal|female">Tafsir Inggris Putri</option>
                            </optgroup>
                            
                            <!-- KALIGRAFI NASKAH -->
                            <optgroup label="Kaligrafi Naskah (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Kaligrafi Naskah Putra|34-11-29|personal|male">Kaligrafi Naskah Putra</option>
                                <option value="Kaligrafi Naskah Putri|34-11-29|personal|female">Kaligrafi Naskah Putri</option>
                            </optgroup>
                            
                            <!-- KALIGRAFI HIASAN -->
                            <optgroup label="Kaligrafi Hiasan (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Kaligrafi Hiasan Putra|34-11-29|personal|male">Kaligrafi Hiasan Putra</option>
                                <option value="Kaligrafi Hiasan Putri|34-11-29|personal|female">Kaligrafi Hiasan Putri</option>
                            </optgroup>
                            
                            <!-- KALIGRAFI DEKORASI -->
                            <optgroup label="Kaligrafi Dekorasi (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Kaligrafi Dekorasi Putra|34-11-29|personal|male">Kaligrafi Dekorasi Putra</option>
                                <option value="Kaligrafi Dekorasi Putri|34-11-29|personal|female">Kaligrafi Dekorasi Putri</option>
                            </optgroup>
                            
                            <!-- KALIGRAFI KONTEMPORER -->
                            <optgroup label="Kaligrafi Kontemporer (Max: 34 tahun 11 bulan 29 hari)">
                                <option value="Kaligrafi Kontemporer Putra|34-11-29|personal|male">Kaligrafi Kontemporer Putra</option>
                                <option value="Kaligrafi Kontemporer Putri|34-11-29|personal|female">Kaligrafi Kontemporer Putri</option>
                            </optgroup>
                            
                            <!-- KTIQ -->
                            <optgroup label="KTIQ (Max: 24 tahun 11 bulan 29 hari)">
                                <option value="KTIQ Putra|24-11-29|personal|male">KTIQ Putra</option>
                                <option value="KTIQ Putri|24-11-29|personal|female">KTIQ Putri</option>
                            </optgroup>
                            
                            <!-- TIM: FAHM AL QUR'AN -->
                            <optgroup label="Fahm Al Qur'an (Tim - Max: 18 tahun 11 bulan 29 hari)">
                                <option value="Fahm Al Qur'an Putra|18-11-29|tim|3|male">Fahm Al Qur'an Putra (Tim)</option>
                                <option value="Fahm Al Qur'an Putri|18-11-29|tim|3|female">Fahm Al Qur'an Putri (Tim)</option>
                            </optgroup>
                            
                            <!-- TIM: SYARH AL QUR'AN -->
                            <optgroup label="Syarh Al Qur'an (Tim - Max: 18 tahun 11 bulan 29 hari)">
                                <option value="Syarh Al Qur'an Putra|18-11-29|tim|3|male">Syarh Al Qur'an Putra (Tim)</option>
                                <option value="Syarh Al Qur'an Putri|18-11-29|tim|3|female">Syarh Al Qur'an Putri (Tim)</option>
                            </optgroup>
                        </select>
                        <div id="ageRequirement" class="age-info" style="display: none;"></div>
                    </div>
                    <div class="form-group">
                        <label for="kecamatan">Kecamatan Asal *</label>
                        <select id="kecamatan" name="kecamatan" required>
                            <option value="">-- Pilih Kecamatan --</option>
                            <option value="Anjatan">Anjatan</option>
                            <option value="Arahan">Arahan</option>
                            <option value="Balongan">Balongan</option>
                            <option value="Bangodua">Bangodua</option>
                            <option value="Bongas">Bongas</option>
                            <option value="Cantigi">Cantigi</option>
                            <option value="Cikedung">Cikedung</option>
                            <option value="Gabuswetan">Gabuswetan</option>
                            <option value="Gantar">Gantar</option>
                            <option value="Haurgeulis">Haurgeulis</option>
                            <option value="Indramayu">Indramayu</option>
                            <option value="Jatibarang">Jatibarang</option>
                            <option value="Juntinyuat">Juntinyuat</option>
                            <option value="Kandanghaur">Kandanghaur</option>
                            <option value="Karangampel">Karangampel</option>
                            <option value="Kedokan Bunder">Kedokan Bunder</option>
                            <option value="Kertasemaya">Kertasemaya</option>
                            <option value="Krangkeng">Krangkeng</option>
                            <option value="Kroya">Kroya</option>
                            <option value="Lelea">Lelea</option>
                            <option value="Lohbener">Lohbener</option>
                            <option value="Losarang">Losarang</option>
                            <option value="Pasekan">Pasekan</option>
                            <option value="Patrol">Patrol</option>
                            <option value="Sindang">Sindang</option>
                            <option value="Sliyeg">Sliyeg</option>
                            <option value="Sukagumiwang">Sukagumiwang</option>
                            <option value="Sukra">Sukra</option>
                            <option value="Terisi">Terisi</option>
                            <option value="Tukdana">Tukdana</option>
                            <option value="Widasari">Widasari</option>
                        </select>
                    </div>
                </div>

                <!-- BAGIAN 2: DATA DIRI PESERTA UTAMA -->
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;" id="dataDiriHeader">üìã Data Diri Peserta</h3>
                <div id="dataDiriSection" style="display: none;">

                <div class="form-row">
                    <div class="form-group">
                        <label for="nik">NIK *</label>
                        <input type="text" id="nik" name="nik" maxlength="16" inputmode="numeric" placeholder="16 digit NIK">
                        <small class="small-text">Masukkan 16 digit NIK tanpa spasi</small>
                    </div>
                    <div class="form-group">
                        <label for="nama">Nama Lengkap *</label>
                        <input type="text" id="nama" name="nama" placeholder="Nama lengkap sesuai KTP">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="jenisKelamin">Jenis Kelamin *</label>
                        <select id="jenisKelamin" name="jenisKelamin">
                            <option value="">-- Pilih Jenis Kelamin --</option>
                            <option value="Laki-laki">Laki-laki</option>
                            <option value="Perempuan">Perempuan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tempatLahir">Tempat Lahir *</label>
                        <input type="text" id="tempatLahir" name="tempatLahir" placeholder="Kota/Kabupaten">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="tglLahir">Tanggal Lahir *</label>
                        <input type="date" id="tglLahir" name="tglLahir">
                        <small class="small-text">Tidak boleh melebihi hari ini</small>
                    </div>
                    <div class="form-group">
                        <label for="umur">Umur (per 1 November 2025) *</label>
                        <input type="text" id="umur" name="umur" readonly placeholder="Otomatis terisi">
                        <small class="small-text">Format: Tahun-Bulan-Hari</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="alamat">Alamat Lengkap *</label>
                    <textarea id="alamat" name="alamat" rows="3" placeholder="Jalan, RT/RW, Desa, Kecamatan"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="noTelepon">Nomor Telepon/WhatsApp *</label>
                        <input type="tel" id="noTelepon" name="noTelepon" placeholder="08xxxxxxxxxx">
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" placeholder="email@example.com">
                    </div>
                </div>

                </div>

                <!-- BAGIAN 3: DATA TIM -->
                <div id="teamSection" class="conditional-section">
                    <h3 style="color: #1e5c96; margin-bottom: 20px;">üë• Data Regu/Tim</h3>
                    <div class="form-group">
                        <label for="namaRegu">Nama Regu/Tim *</label>
                        <input type="text" id="namaRegu" name="namaRegu" placeholder="Nama regu/tim Anda">
                    </div>
                    <div id="teamMembers"></div>
                </div>

                <!-- BAGIAN 4: INFORMASI REKENING -->
                <div id="rekeningPersonalSection" style="display: none;">
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;">üí≥ Informasi Rekening</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="namaRek">Nama Pemilik Rekening *</label>
                        <input type="text" id="namaRek" name="namaRek" placeholder="Nama sesuai buku tabungan">
                    </div>
                    <div class="form-group">
                        <label for="noRek">Nomor Rekening *</label>
                        <input type="text" id="noRek" name="noRek" placeholder="Nomor rekening">
                    </div>
                </div>

                <div class="form-group">
                    <label for="namaBank">Nama Bank *</label>
                    <input type="text" id="namaBank" name="namaBank" placeholder="BNI, BCA, Mandiri, dll">
                </div>
                </div>

                <!-- BAGIAN 5: UPLOAD DOKUMEN -->
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;">üìÑ Upload Dokumen Persyaratan</h3>

                <p style="margin-bottom: 15px; padding: 10px; background: #fff3cd; border-radius: 5px; color: #856404; font-size: 0.9em;">
                    Format: PDF, JPG, PNG | Max 5MB per file
                </p>

                <div id="personalSection" class="conditional-section">
                    <h4 style="color: #1e5c96; margin-bottom: 15px;">Dokumen Peserta Perorangan</h4>
                    <div id="personalDocs"></div>
                </div>

                <!-- BAGIAN 6: STATUS INFO & TOMBOL SUBMIT -->
                <div id="submitStatusInfo" class="submit-status-info" style="display: none;"></div>

                <div style="margin-top: 30px; padding: 15px; background: linear-gradient(135deg, #e6f3ff 0%, #d4e9ff 100%); border-radius: 5px; border-left: 4px solid #1e5c96;">
                    <p style="margin: 0; color: #1e5c96; line-height: 1.6; font-size: 0.9em;">
                        <strong>üìå Catatan:</strong> Dengan klik "Daftar Peserta", Anda menyetujui semua data dan dokumen yang diupload akurat dan benar.
                    </p>
                </div>

                <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <button type="submit" class="btn-submit" id="submitBtn">‚úÖ Daftar Peserta</button>
                    <button type="button" class="btn-reset" onclick="resetForm()">üîÑ Bersihkan Form</button>
                </div>
            </form>
        </div>
    </div>

    <div id="resultModal" class="result-modal">
        <div class="result-content">
            <div class="result-icon" id="resultIcon"></div>
            <div class="result-title" id="resultTitle"></div>
            <div class="result-message" id="resultMessage"></div>
            <button class="result-button" onclick="closeResultModal()">Tutup</button>
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirmModal" class="confirm-modal">
        <div class="confirm-content">
            <div class="confirm-icon">‚ö†Ô∏è</div>
            <div class="confirm-title" id="confirmTitle">Konfirmasi</div>
            <div class="confirm-message" id="confirmMessage">Apakah Anda yakin?</div>
            <div class="confirm-buttons">
                <button class="btn-confirm-cancel" onclick="closeConfirmModal(false)">Batal</button>
                <button class="btn-confirm-ok" onclick="closeConfirmModal(true)">Ya, Lanjutkan</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>