<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrasi MTQ ke-55 Kabupaten Indramayu 2025</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loadingMessage">Memproses...</p>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>📚 Musabaqah Tilawatil Qur'an (MTQ) ke-55</h1>
            <p>Tingkat Kabupaten Indramayu - Tahun 2025</p>
            <p style="font-size: 0.9em; margin-top: 10px; color: #1e5c96;">4-6 November 2025 | Kecamatan Sindang</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-btn active" onclick="showTab('informasi')">📋 Informasi</button>
            <button class="nav-btn" onclick="showTab('registrasi')">✏️ Registrasi</button>
        </div>

        <div id="informasi" class="content-section active">
            <h2 class="section-title">ℹ️ Informasi Penting Registrasi</h2>
            
            <div class="info-box">
                <h3>📅 Jadwal Penting</h3>
                <p><strong>Pendaftaran Online:</strong> 20-23 Oktober 2025</p>
                <p><strong>Masa Sanggah:</strong> 24-25 Oktober 2025</p>
                <p><strong>Pelaksanaan MTQ:</strong> 4-6 November 2025</p>
            </div>

            <div class="info-box">
                <h3>📋 Dokumen yang Diperlukan (untuk SETIAP peserta/anggota)</h3>
                <p>a. Surat Mandat - Ditandatangani oleh Ketua LPTQ Kecamatan</p>
                <p>b. KTP/KK/KIA - Diterbitkan maksimal 6 bulan sebelum 1 Nov 2025</p>
                <p>c. Sertifikat Kejuaraan - Dari MTQ Tingkat Kecamatan</p>
                <p>d. Foto Buku Tabungan - Menunjukkan nomor rekening</p>
                <p>e. Pas Photo Terbaru - Latar belakang biru</p>
            </div>

            <div class="info-box">
                <h3>🎯 Batas Usia Peserta</h3>
                <p>Batas usia maksimal dihitung per <strong>1 November 2025</strong></p>
            </div>
        </div>

        <div id="registrasi" class="content-section">
            <h2 class="section-title">✏️ Form Registrasi Peserta</h2>

            <div class="warning-message">
                ⚠️ Pastikan semua data sudah benar sebelum mengirim. Peserta tidak boleh terdaftar ganda.
            </div>

            <div class="progress-container" id="progressContainer">
                <p style="margin-bottom: 10px; font-weight: 600; color: #1e5c96;">Sedang memproses registrasi...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill">0%</div>
                </div>
            </div>

            <form id="registrationForm" name="registrationForm">
                <!-- BAGIAN 1: CABANG & KECAMATAN -->
                <h3 style="color: #1e5c96; margin-bottom: 20px;">🏆 Pilih Cabang & Kecamatan</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="cabang">Cabang Lomba *</label>
                        <select id="cabang" name="cabang" required onchange="handleCabangChange()">
                            <option value="">-- Pilih Cabang Lomba --</option>
                            <option value="Tartil Al Qur'an|12-11-29|personal">Tartil Al Qur'an (Perorangan - Max: 12 tahun 11 bulan 29 hari)</option>
                            <option value="Tilawah Anak-anak|14-11-29|personal">Tilawah Anak-anak (Perorangan - Max: 14 tahun 11 bulan 29 hari)</option>
                            <option value="Tilawah Remaja|24-11-29|personal">Tilawah Remaja (Perorangan - Max: 24 tahun 11 bulan 29 hari)</option>
                            <option value="Tilawah Dewasa|40-11-29|personal">Tilawah Dewasa (Perorangan - Max: 40 tahun 11 bulan 29 hari)</option>
                            <option value="Qira'at Mujawwad|40-11-29|personal">Qira'at Mujawwad (Perorangan - Max: 40 tahun 11 bulan 29 hari)</option>
                            <option value="Hafalan 1 Juz|15-11-29|personal">Hafalan 1 Juz (Perorangan - Max: 15 tahun 11 bulan 29 hari)</option>
                            <option value="Hafalan 5 Juz|20-11-29|personal">Hafalan 5 Juz (Perorangan - Max: 20 tahun 11 bulan 29 hari)</option>
                            <option value="Hafalan 10 Juz|20-11-29|personal">Hafalan 10 Juz (Perorangan - Max: 20 tahun 11 bulan 29 hari)</option>
                            <option value="Hafalan 20 Juz|22-11-29|personal">Hafalan 20 Juz (Perorangan - Max: 22 tahun 11 bulan 29 hari)</option>
                            <option value="Hafalan 30 Juz|22-11-29|personal">Hafalan 30 Juz (Perorangan - Max: 22 tahun 11 bulan 29 hari)</option>
                            <option value="Tafsir Arab|22-11-29|personal">Tafsir Arab (Perorangan - Max: 22 tahun 11 bulan 29 hari)</option>
                            <option value="Tafsir Indonesia|34-11-29|personal">Tafsir Indonesia (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="Tafsir Inggris|34-11-29|personal">Tafsir Inggris (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="Kaligrafi Naskah|34-11-29|personal">Kaligrafi Naskah (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="Kaligrafi Hiasan|34-11-29|personal">Kaligrafi Hiasan (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="Kaligrafi Dekorasi|34-11-29|personal">Kaligrafi Dekorasi (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="Kaligrafi Kontemporer|34-11-29|personal">Kaligrafi Kontemporer (Perorangan - Max: 34 tahun 11 bulan 29 hari)</option>
                            <option value="KTIQ|24-11-29|personal">KTIQ (Perorangan - Max: 24 tahun 11 bulan 29 hari)</option>
                            <option value="Fahm Al Qur'an Putra|18-11-29|tim|3">Fahm Al Qur'an Putra (Tim - Max: 18 tahun 11 bulan 29 hari)</option>
                            <option value="Fahm Al Qur'an Putri|18-11-29|tim|3">Fahm Al Qur'an Putri (Tim - Max: 18 tahun 11 bulan 29 hari)</option>
                            <option value="Syarh Al Qur'an Putra|18-11-29|tim|3">Syarh Al Qur'an Putra (Tim - Max: 18 tahun 11 bulan 29 hari)</option>
                            <option value="Syarh Al Qur'an Putri|18-11-29|tim|3">Syarh Al Qur'an Putri (Tim - Max: 18 tahun 11 bulan 29 hari)</option>
                        </select>
                        <div id="ageRequirement" class="age-info" style="display: none;"></div>
                    </div>
                    <div class="form-group">
                        <label for="kecamatan">Kecamatan Asal *</label>
                        <select id="kecamatan" name="kecamatan" required>
                            <option value="">-- Pilih Kecamatan --</option>
                            <option value="Anjatan">Anjatan</option>
                            <option value="Arahan">Arahan</option>
                            <option value="Balongan">Balongan</option>
                            <option value="Bangodua">Bangodua</option>
                            <option value="Bongas">Bongas</option>
                            <option value="Cantigi">Cantigi</option>
                            <option value="Cikedung">Cikedung</option>
                            <option value="Gabuswetan">Gabuswetan</option>
                            <option value="Gantar">Gantar</option>
                            <option value="Haurgeulis">Haurgeulis</option>
                            <option value="Indramayu">Indramayu</option>
                            <option value="Jatibarang">Jatibarang</option>
                            <option value="Juntinyuat">Juntinyuat</option>
                            <option value="Kandanghaur">Kandanghaur</option>
                            <option value="Karangampel">Karangampel</option>
                            <option value="Kedokan Bunder">Kedokan Bunder</option>
                            <option value="Kertasemaya">Kertasemaya</option>
                            <option value="Krangkeng">Krangkeng</option>
                            <option value="Kroya">Kroya</option>
                            <option value="Lelea">Lelea</option>
                            <option value="Lohbener">Lohbener</option>
                            <option value="Losarang">Losarang</option>
                            <option value="Pasekan">Pasekan</option>
                            <option value="Patrol">Patrol</option>
                            <option value="Sindang">Sindang</option>
                            <option value="Sliyeg">Sliyeg</option>
                            <option value="Sukagumiwang">Sukagumiwang</option>
                            <option value="Sukra">Sukra</option>
                            <option value="Terisi">Terisi</option>
                            <option value="Tukdana">Tukdana</option>
                            <option value="Widasari">Widasari</option>
                        </select>
                    </div>
                </div>

                <!-- BAGIAN 2: DATA DIRI PESERTA UTAMA -->
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;" id="dataDiriHeader">📋 Data Diri Peserta</h3>
                <div id="dataDiriSection" style="display: none;">

                <div class="form-row">
                    <div class="form-group">
                        <label for="nik">NIK *</label>
                        <input type="text" id="nik" name="nik" maxlength="16" inputmode="numeric" placeholder="16 digit NIK">
                        <small class="small-text">Masukkan 16 digit NIK tanpa spasi</small>
                    </div>
                    <div class="form-group">
                        <label for="nama">Nama Lengkap *</label>
                        <input type="text" id="nama" name="nama" placeholder="Nama lengkap sesuai KTP">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="jenisKelamin">Jenis Kelamin *</label>
                        <select id="jenisKelamin" name="jenisKelamin">
                            <option value="">-- Pilih Jenis Kelamin --</option>
                            <option value="Laki-laki">Laki-laki</option>
                            <option value="Perempuan">Perempuan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tempatLahir">Tempat Lahir *</label>
                        <input type="text" id="tempatLahir" name="tempatLahir" placeholder="Kota/Kabupaten">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="tglLahir">Tanggal Lahir *</label>
                        <input type="date" id="tglLahir" name="tglLahir">
                        <small class="small-text">Tidak boleh melebihi hari ini</small>
                    </div>
                    <div class="form-group">
                        <label for="umur">Umur (per 1 November 2025) *</label>
                        <input type="text" id="umur" name="umur" readonly placeholder="Otomatis terisi">
                        <small class="small-text">Format: Tahun-Bulan-Hari</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="alamat">Alamat Lengkap *</label>
                    <textarea id="alamat" name="alamat" rows="3" placeholder="Jalan, RT/RW, Desa, Kecamatan"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="noTelepon">Nomor Telepon/WhatsApp *</label>
                        <input type="tel" id="noTelepon" name="noTelepon" placeholder="08xxxxxxxxxx">
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" placeholder="email@example.com">
                    </div>
                </div>

                </div>

                <!-- BAGIAN 3: DATA TIM -->
                <div id="teamSection" class="conditional-section">
                    <h3 style="color: #1e5c96; margin-bottom: 20px;">👥 Data Regu/Tim</h3>
                    <div class="form-group">
                        <label for="namaRegu">Nama Regu/Tim *</label>
                        <input type="text" id="namaRegu" name="namaRegu" placeholder="Nama regu/tim Anda">
                    </div>
                    <div id="teamMembers"></div>
                </div>

                <!-- BAGIAN 4: INFORMASI REKENING -->
                <div id="rekeningPersonalSection" style="display: none;">
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;">💳 Informasi Rekening</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label for="namaRek">Nama Pemilik Rekening *</label>
                        <input type="text" id="namaRek" name="namaRek" placeholder="Nama sesuai buku tabungan">
                    </div>
                    <div class="form-group">
                        <label for="noRek">Nomor Rekening *</label>
                        <input type="text" id="noRek" name="noRek" placeholder="Nomor rekening">
                    </div>
                </div>

                <div class="form-group">
                    <label for="namaBank">Nama Bank *</label>
                    <input type="text" id="namaBank" name="namaBank" placeholder="BNI, BCA, Mandiri, dll">
                </div>
                </div>

                <!-- BAGIAN 5: UPLOAD DOKUMEN -->
                <h3 style="color: #1e5c96; margin-top: 30px; margin-bottom: 20px;">📄 Upload Dokumen Persyaratan</h3>

                <p style="margin-bottom: 15px; padding: 10px; background: #fff3cd; border-radius: 5px; color: #856404; font-size: 0.9em;">
                    Format: PDF, JPG, PNG | Max 5MB per file
                </p>

                <div id="personalSection" class="conditional-section">
                    <h4 style="color: #1e5c96; margin-bottom: 15px;">Dokumen Peserta Perorangan</h4>
                    <div id="personalDocs"></div>
                </div>

                <!-- BAGIAN 6: STATUS INFO & TOMBOL SUBMIT -->
                <div id="submitStatusInfo" class="submit-status-info" style="display: none;"></div>

                <div style="margin-top: 30px; padding: 15px; background: linear-gradient(135deg, #e6f3ff 0%, #d4e9ff 100%); border-radius: 5px; border-left: 4px solid #1e5c96;">
                    <p style="margin: 0; color: #1e5c96; line-height: 1.6; font-size: 0.9em;">
                        <strong>📌 Catatan:</strong> Dengan klik "Daftar Peserta", Anda menyetujui semua data dan dokumen yang diupload akurat dan benar.
                    </p>
                </div>

                <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <button type="submit" class="btn-submit" id="submitBtn">✅ Daftar Peserta</button>
                    <button type="button" class="btn-reset" onclick="resetForm()">🔄 Bersihkan Form</button>
                </div>
            </form>
        </div>
    </div>

    <div id="resultModal" class="result-modal">
        <div class="result-content">
            <div class="result-icon" id="resultIcon"></div>
            <div class="result-title" id="resultTitle"></div>
            <div class="result-message" id="resultMessage"></div>
            <button class="result-button" onclick="closeResultModal()">Tutup</button>
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirmModal" class="confirm-modal">
        <div class="confirm-content">
            <div class="confirm-icon">⚠️</div>
            <div class="confirm-title" id="confirmTitle">Konfirmasi</div>
            <div class="confirm-message" id="confirmMessage">Apakah Anda yakin?</div>
            <div class="confirm-buttons">
                <button class="btn-confirm-cancel" onclick="closeConfirmModal(false)">Batal</button>
                <button class="btn-confirm-ok" onclick="closeConfirmModal(true)">Ya, Lanjutkan</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>